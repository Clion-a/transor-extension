{"remainingRequest":"/Users/yankaikuo/Transor/transor-extension/node_modules/babel-loader/lib/index.js!/Users/yankaikuo/Transor/transor-extension/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yankaikuo/Transor/transor-extension/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yankaikuo/Transor/transor-extension/src/components/TranslationControl.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/yankaikuo/Transor/transor-extension/src/components/TranslationControl.vue","mtime":1744726077864},{"path":"/Users/yankaikuo/Transor/transor-extension/node_modules/cache-loader/dist/cjs.js","mtime":1744643640207},{"path":"/Users/yankaikuo/Transor/transor-extension/node_modules/babel-loader/lib/index.js","mtime":1744643640966},{"path":"/Users/yankaikuo/Transor/transor-extension/node_modules/cache-loader/dist/cjs.js","mtime":1744643640207},{"path":"/Users/yankaikuo/Transor/transor-extension/node_modules/vue-loader/lib/index.js","mtime":1744643641085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RyYW5zbGF0aW9uQ29udHJvbCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUNvbGxhcHNlOiBbXSwKICAgICAgZXhjbHVkZWRDbGFzc2VzU3RyOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ2lzRW5hYmxlZCcsICdleGNsdWRlZFRhZ3MnLCAnZXhjbHVkZWRDbGFzc2VzJywgJ2N1c3RvbUNzcyddKSwKICAgIGlzVHJhbnNsYXRpb25FbmFibGVkOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQ7CiAgICAgIH0sCiAgICAgIHNldCgpIHsKICAgICAgICAvLyDpgJrov4d0b2dnbGVUcmFuc2xhdGlvbuaTjeS9nOadpeS/ruaUuQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsndG9nZ2xlVHJhbnNsYXRpb24nLCAnc2F2ZVNldHRpbmdzJ10pLAogICAgLi4ubWFwTXV0YXRpb25zKFsnc2V0RXhjbHVkZWRUYWdzJywgJ3NldEV4Y2x1ZGVkQ2xhc3NlcycsICdzZXRDdXN0b21Dc3MnXSksCiAgICB0cmFuc2xhdGVDdXJyZW50UGFnZSgpIHsKICAgICAgY2hyb21lLnRhYnMucXVlcnkoewogICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICBjdXJyZW50V2luZG93OiB0cnVlCiAgICAgIH0sIHRhYnMgPT4gewogICAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYnNbMF0uaWQsIHsKICAgICAgICAgIGFjdGlvbjogJ3RyYW5zbGF0ZScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUV4Y2x1ZGVkVGFncygpIHsKICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTsKICAgIH0sCiAgICBzYXZlRXhjbHVkZWRDbGFzc2VzKCkgewogICAgICB0aGlzLnNldEV4Y2x1ZGVkQ2xhc3Nlcyh0aGlzLmV4Y2x1ZGVkQ2xhc3Nlc1N0ci5zcGxpdCgnLCcpLm1hcChjbHMgPT4gY2xzLnRyaW0oKSkuZmlsdGVyKGNscyA9PiBjbHMpKTsKICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTsKICAgIH0sCiAgICBzYXZlQ3VzdG9tQ3NzKCkgewogICAgICB0aGlzLnNldEN1c3RvbUNzcyh0aGlzLmN1c3RvbUNzcyk7CiAgICAgIHRoaXMuc2F2ZVNldHRpbmdzKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZXhjbHVkZWRDbGFzc2VzOiB7CiAgICAgIGhhbmRsZXIobmV3VmFsKSB7CiAgICAgICAgdGhpcy5leGNsdWRlZENsYXNzZXNTdHIgPSBuZXdWYWwuam9pbignLCAnKTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvYWRTZXR0aW5ncycpOwogIH0KfTs="},{"version":3,"names":["mapState","mapActions","mapMutations","name","data","activeCollapse","excludedClassesStr","computed","isTranslationEnabled","get","isEnabled","set","methods","translateCurrentPage","chrome","tabs","query","active","currentWindow","sendMessage","id","action","saveExcludedTags","saveSettings","saveExcludedClasses","setExcludedClasses","split","map","cls","trim","filter","saveCustomCss","setCustomCss","customCss","watch","excludedClasses","handler","newVal","join","immediate","created","$store","dispatch"],"sources":["src/components/TranslationControl.vue"],"sourcesContent":["<template>\n  <div class=\"translation-control\">\n    <h3>翻译控制</h3>\n    \n    <div class=\"control-panel\">\n      <div class=\"toggle-container\">\n        <span>翻译开关</span>\n        <el-switch\n          v-model=\"isTranslationEnabled\"\n          active-color=\"#13ce66\"\n          inactive-color=\"#ff4949\"\n          @change=\"toggleTranslation\"\n        ></el-switch>\n      </div>\n      \n      <el-button type=\"primary\" size=\"small\" @click=\"translateCurrentPage\" :disabled=\"!isTranslationEnabled\">\n        立即翻译当前页面\n      </el-button>\n      \n      <el-collapse v-model=\"activeCollapse\">\n        <el-collapse-item title=\"高级设置\" name=\"advanced\">\n          <div class=\"advanced-settings\">\n            <el-form label-position=\"top\" size=\"small\">\n              <el-form-item label=\"不翻译的HTML标签\">\n                <el-select\n                  v-model=\"excludedTags\"\n                  multiple\n                  placeholder=\"选择不翻译的HTML标签\"\n                  @change=\"saveExcludedTags\"\n                >\n                  <el-option label=\"代码块(code)\" value=\"code\"></el-option>\n                  <el-option label=\"预格式化文本(pre)\" value=\"pre\"></el-option>\n                  <el-option label=\"脚本(script)\" value=\"script\"></el-option>\n                  <el-option label=\"样式(style)\" value=\"style\"></el-option>\n                  <el-option label=\"标题(h1-h6)\" value=\"h1,h2,h3,h4,h5,h6\"></el-option>\n                  <el-option label=\"链接(a)\" value=\"a\"></el-option>\n                </el-select>\n              </el-form-item>\n              \n              <el-form-item label=\"不翻译的CSS类名\">\n                <el-input\n                  v-model=\"excludedClassesStr\"\n                  placeholder=\"输入不翻译的CSS类名，多个用逗号分隔\"\n                  @change=\"saveExcludedClasses\"\n                ></el-input>\n              </el-form-item>\n              \n              <el-form-item label=\"自定义CSS样式\">\n                <el-input\n                  type=\"textarea\"\n                  v-model=\"customCss\"\n                  placeholder=\"输入自定义CSS样式\"\n                  rows=\"3\"\n                  @change=\"saveCustomCss\"\n                ></el-input>\n              </el-form-item>\n            </el-form>\n          </div>\n        </el-collapse-item>\n      </el-collapse>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from 'vuex'\n\nexport default {\n  name: 'TranslationControl',\n  data() {\n    return {\n      activeCollapse: [],\n      excludedClassesStr: ''\n    }\n  },\n  computed: {\n    ...mapState([\n      'isEnabled',\n      'excludedTags',\n      'excludedClasses',\n      'customCss'\n    ]),\n    isTranslationEnabled: {\n      get() {\n        return this.isEnabled\n      },\n      set() {\n        // 通过toggleTranslation操作来修改\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n      'toggleTranslation',\n      'saveSettings'\n    ]),\n    ...mapMutations([\n      'setExcludedTags',\n      'setExcludedClasses',\n      'setCustomCss'\n    ]),\n    translateCurrentPage() {\n      chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n        chrome.tabs.sendMessage(tabs[0].id, { action: 'translate' })\n      })\n    },\n    saveExcludedTags() {\n      this.saveSettings()\n    },\n    saveExcludedClasses() {\n      this.setExcludedClasses(this.excludedClassesStr.split(',').map(cls => cls.trim()).filter(cls => cls))\n      this.saveSettings()\n    },\n    saveCustomCss() {\n      this.setCustomCss(this.customCss)\n      this.saveSettings()\n    }\n  },\n  watch: {\n    excludedClasses: {\n      handler(newVal) {\n        this.excludedClassesStr = newVal.join(', ')\n      },\n      immediate: true\n    }\n  },\n  created() {\n    this.$store.dispatch('loadSettings')\n  }\n}\n</script>\n\n<style scoped>\n.translation-control {\n  margin-bottom: 10px;\n}\n\nh3 {\n  font-size: 16px;\n  margin-top: 0;\n  margin-bottom: 12px;\n}\n\n.control-panel {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.toggle-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.advanced-settings {\n  margin-top: 10px;\n}\n</style> "],"mappings":"AAiEA,SAAAA,QAAA,EAAAC,UAAA,EAAAC,YAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,cAAA;MACAC,kBAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAP,QAAA,EACA,aACA,gBACA,mBACA,YACA;IACAQ,oBAAA;MACAC,IAAA;QACA,YAAAC,SAAA;MACA;MACAC,IAAA;QACA;MAAA;IAEA;EACA;EACAC,OAAA;IACA,GAAAX,UAAA,EACA,qBACA,eACA;IACA,GAAAC,YAAA,EACA,mBACA,sBACA,eACA;IACAW,qBAAA;MACAC,MAAA,CAAAC,IAAA,CAAAC,KAAA;QAAAC,MAAA;QAAAC,aAAA;MAAA,GAAAH,IAAA;QACAD,MAAA,CAAAC,IAAA,CAAAI,WAAA,CAAAJ,IAAA,IAAAK,EAAA;UAAAC,MAAA;QAAA;MACA;IACA;IACAC,iBAAA;MACA,KAAAC,YAAA;IACA;IACAC,oBAAA;MACA,KAAAC,kBAAA,MAAAnB,kBAAA,CAAAoB,KAAA,MAAAC,GAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAC,IAAA,IAAAC,MAAA,CAAAF,GAAA,IAAAA,GAAA;MACA,KAAAL,YAAA;IACA;IACAQ,cAAA;MACA,KAAAC,YAAA,MAAAC,SAAA;MACA,KAAAV,YAAA;IACA;EACA;EACAW,KAAA;IACAC,eAAA;MACAC,QAAAC,MAAA;QACA,KAAA/B,kBAAA,GAAA+B,MAAA,CAAAC,IAAA;MACA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,MAAA,CAAAC,QAAA;EACA;AACA","ignoreList":[]}]}