{"code":"(function(e){function t(t){for(var s,l,r=t[0],o=t[1],p=t[2],g=0,u=[];g<r.length;g++)l=r[g],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&u.push(i[l][0]),i[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);c&&c(t);while(u.length)u.shift()();return n.push.apply(n,p||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(s=!1)}s&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},i={popup:0},n=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return l.d(t,\"a\",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p=\"\";var r=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var p=0;p<r.length;p++)t(r[p]);var c=o;n.push([0,\"chunk-vendors\"]),a()})({0:function(e,t,a){e.exports=a(\"56d7\")},\"2a41\":function(e,t,a){\"use strict\";a(\"794a\")},\"34d5\":function(e,t,a){\"use strict\";a(\"b0d4\")},\"56d7\":function(e,t,a){\"use strict\";a.r(t);var s=a(\"2b0e\"),i=function(){var e=this,t=e._self._c;return t(\"div\",{attrs:{id:\"app\"}},[t(\"div\",{staticClass:\"transor-container\"},[t(\"div\",{staticClass:\"content-translation-settings\"},[t(\"TranslationSettings\")],1)])])},n=[],l=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"translation-settings\"},[t(\"div\",{staticClass:\"settings-group\"},[t(\"div\",{staticClass:\"language-selector\"},[t(\"div\",{staticClass:\"source-lang\"},[t(\"el-select\",{staticClass:\"dark-select\",attrs:{size:\"large\"},model:{value:e.sourceLang,callback:function(t){e.sourceLang=t},expression:\"sourceLang\"}},[t(\"el-option\",{attrs:{label:e.$t(\"auto_detect\"),value:\"auto\"}}),t(\"el-option\",{attrs:{label:e.$t(\"chinese\"),value:\"zh-CN\"}}),t(\"el-option\",{attrs:{label:e.$t(\"english\"),value:\"en\"}}),t(\"el-option\",{attrs:{label:e.$t(\"japanese\"),value:\"ja\"}}),t(\"el-option\",{attrs:{label:e.$t(\"korean\"),value:\"ko\"}}),t(\"el-option\",{attrs:{label:e.$t(\"french\"),value:\"fr\"}}),t(\"el-option\",{attrs:{label:e.$t(\"german\"),value:\"de\"}}),t(\"el-option\",{attrs:{label:e.$t(\"spanish\"),value:\"es\"}}),t(\"el-option\",{attrs:{label:e.$t(\"russian\"),value:\"ru\"}})],1),t(\"div\",{staticClass:\"label\"},[e._v(e._s(e.$t(\"source_language\")))])],1),t(\"div\",{staticClass:\"direction-arrow\"},[e._v(\"→\")]),t(\"div\",{staticClass:\"target-lang\"},[t(\"el-select\",{staticClass:\"dark-select\",attrs:{size:\"large\"},model:{value:e.targetLang,callback:function(t){e.targetLang=t},expression:\"targetLang\"}},[t(\"el-option\",{attrs:{label:e.$t(\"chinese\"),value:\"zh-CN\"}}),t(\"el-option\",{attrs:{label:e.$t(\"english\"),value:\"en\"}}),t(\"el-option\",{attrs:{label:e.$t(\"japanese\"),value:\"ja\"}}),t(\"el-option\",{attrs:{label:e.$t(\"korean\"),value:\"ko\"}}),t(\"el-option\",{attrs:{label:e.$t(\"french\"),value:\"fr\"}}),t(\"el-option\",{attrs:{label:e.$t(\"german\"),value:\"de\"}}),t(\"el-option\",{attrs:{label:e.$t(\"spanish\"),value:\"es\"}}),t(\"el-option\",{attrs:{label:e.$t(\"russian\"),value:\"ru\"}})],1),t(\"div\",{staticClass:\"label\"},[e._v(e._s(e.$t(\"target_language\")))])],1)])]),t(\"div\",{staticClass:\"settings-group\"},[t(\"div\",{staticClass:\"ui-language-selector\"},[t(\"div\",{staticClass:\"setting-label\"},[e._v(e._s(e.$t(\"ui_language\")))]),t(\"el-select\",{staticClass:\"dark-select\",attrs:{size:\"large\"},on:{change:e.changeUiLanguage},model:{value:e.uiLanguage,callback:function(t){e.uiLanguage=t},expression:\"uiLanguage\"}},[t(\"el-option\",{attrs:{label:\"简体中文\",value:\"zh-CN\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"简体中文\")])])]),t(\"el-option\",{attrs:{label:\"English\",value:\"en\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"English\")])])]),t(\"el-option\",{attrs:{label:\"日本語\",value:\"ja\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"日本語\")])])]),t(\"el-option\",{attrs:{label:\"한국어\",value:\"ko\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"한국어\")])])])],1)],1)]),t(\"div\",{staticClass:\"settings-group\"},[t(\"div\",{staticClass:\"service-selector\"},[t(\"div\",{staticClass:\"setting-label\"},[e._v(e._s(e.$t(\"translation_service\")))]),t(\"el-select\",{staticClass:\"dark-select\",attrs:{size:\"large\"},on:{change:e.handleEngineChange},model:{value:e.transEngine,callback:function(t){e.transEngine=t},expression:\"transEngine\"}},[e.serviceStates.microsoftapi?t(\"el-option\",{attrs:{label:\"Microsoft API\",value:\"microsoftapi\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"Microsoft API\")])])]):e._e(),e.serviceStates.microsoft?t(\"el-option\",{attrs:{label:\"Microsoft Edge\",value:\"microsoft\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"Microsoft Edge\")])])]):e._e(),e.serviceStates.google?t(\"el-option\",{attrs:{label:\"Google\",value:\"google\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"Google\")])])]):e._e(),e.serviceStates.openai?t(\"el-option\",{attrs:{label:\"OpenAI (Pro)\",value:\"openai\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"OpenAI\")])])]):e._e(),e.serviceStates.deepseek?t(\"el-option\",{attrs:{label:\"DeepSeek (Pro)\",value:\"deepseek\"}},[t(\"div\",{staticClass:\"option-with-icon\"},[t(\"span\",[e._v(\"DeepSeek\")])])]):e._e()],1)],1),e.showApiKeyNotice?t(\"div\",{staticClass:\"api-key-notice\"},[t(\"div\",{staticClass:\"api-key-notice-message\"},[t(\"i\",{staticClass:\"el-icon-warning-outline\"}),e._v(\" \"+e._s(e.$t(\"apiKeyRequired\"))+\" \"),t(\"a\",{attrs:{href:\"#\"},on:{click:e.openOptionsPage}},[e._v(e._s(e.$t(\"goToSettings\")))])])]):e._e()]),\"deepseek\"===e.transEngine&&e.showAiExpertStrategy?t(\"div\",{staticClass:\"settings-group\"},[t(\"div\",{staticClass:\"api-key-input\"},[t(\"div\",{staticClass:\"setting-label\"},[e._v(e._s(e.$t(\"aiExpertStrategy\"))+\":\")]),t(\"el-select\",{staticClass:\"dark-select\",attrs:{size:\"large\"},on:{change:e.saveDeepseekConfig},model:{value:e.deepseekExpertStrategy,callback:function(t){e.deepseekExpertStrategy=t},expression:\"deepseekExpertStrategy\"}},[e.isExpertVisible(\"universal\")?t(\"el-option\",{attrs:{label:e.$t(\"universal\"),value:\"universal\"}}):e._e(),e.isExpertVisible(\"smart-choice\")?t(\"el-option\",{attrs:{label:e.$t(\"smartChoice\"),value:\"smart-choice\"}}):e._e(),e.isExpertVisible(\"translation-master\")?t(\"el-option\",{attrs:{label:e.$t(\"translationMaster\"),value:\"translation-master\"}}):e._e(),e.isExpertVisible(\"paragraph-expert\")?t(\"el-option\",{attrs:{label:e.$t(\"paragraphExpert\"),value:\"paragraph-expert\"}}):e._e(),e.isExpertVisible(\"english-simplifier\")?t(\"el-option\",{attrs:{label:e.$t(\"englishSimplifier\"),value:\"english-simplifier\"}}):e._e(),e.isExpertVisible(\"twitter-enhancer\")?t(\"el-option\",{attrs:{label:e.$t(\"twitterEnhancer\"),value:\"twitter-enhancer\"}}):e._e(),e.isExpertVisible(\"tech-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"techTranslator\"),value:\"tech-translator\"}}):e._e(),e.isExpertVisible(\"reddit-enhancer\")?t(\"el-option\",{attrs:{label:e.$t(\"redditEnhancer\"),value:\"reddit-enhancer\"}}):e._e(),e.isExpertVisible(\"academic-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"academicTranslator\"),value:\"academic-translator\"}}):e._e(),e.isExpertVisible(\"news-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"newsTranslator\"),value:\"news-translator\"}}):e._e(),e.isExpertVisible(\"music-expert\")?t(\"el-option\",{attrs:{label:e.$t(\"musicExpert\"),value:\"music-expert\"}}):e._e(),e.isExpertVisible(\"medical-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"medicalTranslator\"),value:\"medical-translator\"}}):e._e(),e.isExpertVisible(\"legal-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"legalTranslator\"),value:\"legal-translator\"}}):e._e(),e.isExpertVisible(\"github-enhancer\")?t(\"el-option\",{attrs:{label:e.$t(\"githubEnhancer\"),value:\"github-enhancer\"}}):e._e(),e.isExpertVisible(\"gaming-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"gamingTranslator\"),value:\"gaming-translator\"}}):e._e(),e.isExpertVisible(\"ecommerce-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"ecommerceTranslator\"),value:\"ecommerce-translator\"}}):e._e(),e.isExpertVisible(\"finance-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"financeTranslator\"),value:\"finance-translator\"}}):e._e(),e.isExpertVisible(\"novel-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"novelTranslator\"),value:\"novel-translator\"}}):e._e(),e.isExpertVisible(\"ao3-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"ao3Translator\"),value:\"ao3-translator\"}}):e._e(),e.isExpertVisible(\"ebook-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"ebookTranslator\"),value:\"ebook-translator\"}}):e._e(),e.isExpertVisible(\"designer\")?t(\"el-option\",{attrs:{label:e.$t(\"designer\"),value:\"designer\"}}):e._e(),e.isExpertVisible(\"cn-en-polisher\")?t(\"el-option\",{attrs:{label:e.$t(\"cnEnPolisher\"),value:\"cn-en-polisher\"}}):e._e(),e.isExpertVisible(\"web3-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"web3Translator\"),value:\"web3-translator\"}}):e._e(),e.isExpertVisible(\"literal-expert\")?t(\"el-option\",{attrs:{label:e.$t(\"literalExpert\"),value:\"literal-expert\"}}):e._e(),e.isExpertVisible(\"context-analyzer\")?t(\"el-option\",{attrs:{label:e.$t(\"contextAnalyzer\"),value:\"context-analyzer\"}}):e._e(),e.isExpertVisible(\"cultural-adapter\")?t(\"el-option\",{attrs:{label:e.$t(\"culturalAdapter\"),value:\"cultural-adapter\"}}):e._e()],1)],1)]):e._e(),\"openai\"===e.transEngine&&e.showAiExpertStrategy?t(\"div\",{staticClass:\"settings-group\"},[t(\"div\",{staticClass:\"api-key-input\"},[t(\"div\",{staticClass:\"setting-label\"},[e._v(e._s(e.$t(\"aiExpertStrategy\"))+\":\")]),t(\"el-select\",{staticClass:\"dark-select\",attrs:{size:\"large\"},on:{change:e.saveOpenaiConfig},model:{value:e.openaiExpertStrategy,callback:function(t){e.openaiExpertStrategy=t},expression:\"openaiExpertStrategy\"}},[e.isExpertVisible(\"universal\")?t(\"el-option\",{attrs:{label:e.$t(\"universal\"),value:\"universal\"}}):e._e(),e.isExpertVisible(\"smart-choice\")?t(\"el-option\",{attrs:{label:e.$t(\"smartChoice\"),value:\"smart-choice\"}}):e._e(),e.isExpertVisible(\"translation-master\")?t(\"el-option\",{attrs:{label:e.$t(\"translationMaster\"),value:\"translation-master\"}}):e._e(),e.isExpertVisible(\"paragraph-expert\")?t(\"el-option\",{attrs:{label:e.$t(\"paragraphExpert\"),value:\"paragraph-expert\"}}):e._e(),e.isExpertVisible(\"english-simplifier\")?t(\"el-option\",{attrs:{label:e.$t(\"englishSimplifier\"),value:\"english-simplifier\"}}):e._e(),e.isExpertVisible(\"twitter-enhancer\")?t(\"el-option\",{attrs:{label:e.$t(\"twitterEnhancer\"),value:\"twitter-enhancer\"}}):e._e(),e.isExpertVisible(\"tech-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"techTranslator\"),value:\"tech-translator\"}}):e._e(),e.isExpertVisible(\"reddit-enhancer\")?t(\"el-option\",{attrs:{label:e.$t(\"redditEnhancer\"),value:\"reddit-enhancer\"}}):e._e(),e.isExpertVisible(\"academic-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"academicTranslator\"),value:\"academic-translator\"}}):e._e(),e.isExpertVisible(\"news-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"newsTranslator\"),value:\"news-translator\"}}):e._e(),e.isExpertVisible(\"music-expert\")?t(\"el-option\",{attrs:{label:e.$t(\"musicExpert\"),value:\"music-expert\"}}):e._e(),e.isExpertVisible(\"medical-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"medicalTranslator\"),value:\"medical-translator\"}}):e._e(),e.isExpertVisible(\"legal-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"legalTranslator\"),value:\"legal-translator\"}}):e._e(),e.isExpertVisible(\"github-enhancer\")?t(\"el-option\",{attrs:{label:e.$t(\"githubEnhancer\"),value:\"github-enhancer\"}}):e._e(),e.isExpertVisible(\"gaming-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"gamingTranslator\"),value:\"gaming-translator\"}}):e._e(),e.isExpertVisible(\"ecommerce-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"ecommerceTranslator\"),value:\"ecommerce-translator\"}}):e._e(),e.isExpertVisible(\"finance-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"financeTranslator\"),value:\"finance-translator\"}}):e._e(),e.isExpertVisible(\"novel-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"novelTranslator\"),value:\"novel-translator\"}}):e._e(),e.isExpertVisible(\"ao3-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"ao3Translator\"),value:\"ao3-translator\"}}):e._e(),e.isExpertVisible(\"ebook-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"ebookTranslator\"),value:\"ebook-translator\"}}):e._e(),e.isExpertVisible(\"designer\")?t(\"el-option\",{attrs:{label:e.$t(\"designer\"),value:\"designer\"}}):e._e(),e.isExpertVisible(\"cn-en-polisher\")?t(\"el-option\",{attrs:{label:e.$t(\"cnEnPolisher\"),value:\"cn-en-polisher\"}}):e._e(),e.isExpertVisible(\"web3-translator\")?t(\"el-option\",{attrs:{label:e.$t(\"web3Translator\"),value:\"web3-translator\"}}):e._e(),e.isExpertVisible(\"literal-expert\")?t(\"el-option\",{attrs:{label:e.$t(\"literalExpert\"),value:\"literal-expert\"}}):e._e(),e.isExpertVisible(\"context-analyzer\")?t(\"el-option\",{attrs:{label:e.$t(\"contextAnalyzer\"),value:\"context-analyzer\"}}):e._e(),e.isExpertVisible(\"cultural-adapter\")?t(\"el-option\",{attrs:{label:e.$t(\"culturalAdapter\"),value:\"cultural-adapter\"}}):e._e()],1)],1)]):e._e(),t(\"div\",{staticClass:\"settings-group\"},[t(\"div\",{staticClass:\"ai-mode\"},[t(\"div\",{staticClass:\"setting-label\"},[e._v(e._s(e.$t(\"display_type\")))]),t(\"el-select\",{staticClass:\"dark-select\",attrs:{size:\"large\"},model:{value:e.transStyle,callback:function(t){e.transStyle=t},expression:\"transStyle\"}},[t(\"el-option\",{attrs:{label:e.$t(\"universal_style\"),value:\"universal_style\"}}),t(\"el-option\",{attrs:{label:e.$t(\"replace\"),value:\"replace\"}}),t(\"el-option\",{attrs:{label:e.$t(\"inline\"),value:\"inline\"}}),t(\"el-option\",{attrs:{label:e.$t(\"bilingual_below\"),value:\"bilingual\"}})],1)],1)]),t(\"div\",{staticClass:\"translate-button\"},[t(\"button\",{on:{click:e.toggleTranslation}},[e._v(e._s(e.$t(\"toggle_translation\"))+\" \"),t(\"span\",{staticClass:\"shortcut-hint\"},[e._v(\"⌥A\")])])]),t(\"div\",{staticClass:\"settings-group\",staticStyle:{\"margin-bottom\":\"0\"}},[t(\"div\",{staticClass:\"toggle-container\"},[t(\"span\",[e._v(e._s(e.$t(\"translation_toggle\")))]),t(\"el-switch\",{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{change:e.toggleTranslation},model:{value:e.isTranslationEnabled,callback:function(t){e.isTranslationEnabled=t},expression:\"isTranslationEnabled\"}})],1)])])},r=[],o=a(\"2f62\"),p={name:\"TranslationSettings\",data(){return{activeCollapse:[],excludedClassesStr:\"\",uiLanguage:localStorage.getItem(\"transor-ui-language\")||\"zh-CN\",i18n:null,showApiKeyNotice:!1,serviceStates:{microsoftapi:!0,microsoft:!0,google:!0,openai:!0,deepseek:!0},storageListener:null,aiExpertVisibility:{}}},computed:{...Object(o[\"d\"])([\"isEnabled\",\"excludedTags\",\"excludedClasses\",\"customCss\",\"openaiConfig\",\"deepseekConfig\",\"apiKeys\"]),isTranslationEnabled:{get(){return this.isEnabled},set(){}},targetLang:{get(){return this.$store.state.targetLanguage},set(e){this.$store.commit(\"setTargetLanguage\",e),this.saveSettings()}},sourceLang:{get(){return this.$store.state.sourceLanguage},set(e){this.$store.commit(\"setSourceLanguage\",e),this.saveSettings()}},transEngine:{get(){return this.$store.state.translationEngine},set(e){this.$store.commit(\"setTranslationEngine\",e),this.saveSettings()}},transStyle:{get(){return this.$store.state.translationStyle},set(e){this.$store.commit(\"setTranslationStyle\",e),this.saveSettings()}},enableInputSpaceTranslation:{get(){return this.$store.state.enableInputSpaceTranslation},set(e){this.$store.commit(\"setEnableInputSpaceTranslation\",e),this.saveSettings()}},openaiModel:{get(){return this.$store.state.openaiConfig?this.$store.state.openaiConfig.model:this.$store.state.openaiModel},set(e){this.$store.commit(\"setOpenaiModel\",e),this.$store.state.openaiConfig&&this.$store.commit(\"updateOpenaiConfig\",{key:\"model\",value:e})}},openaiExpertStrategy:{get(){return this.$store.state.openaiConfig&&this.$store.state.openaiConfig.expertStrategy?this.$store.state.openaiConfig.expertStrategy:\"translation-master\"},set(e){this.$store.commit(\"updateOpenaiConfig\",{key:\"expertStrategy\",value:e})}},openaiAiContext:{get(){return!(!this.$store.state.openaiConfig||!this.$store.state.openaiConfig.aiContext)&&this.$store.state.openaiConfig.aiContext},set(e){this.$store.commit(\"updateOpenaiConfig\",{key:\"aiContext\",value:e})}},deepseekModel:{get(){return this.$store.state.deepseekConfig&&this.$store.state.deepseekConfig.model?this.$store.state.deepseekConfig.model:\"deepseek-chat\"},set(e){this.$store.commit(\"updateDeepseekConfig\",{key:\"model\",value:e})}},deepseekExpertStrategy:{get(){return this.$store.state.deepseekConfig&&this.$store.state.deepseekConfig.expertStrategy?this.$store.state.deepseekConfig.expertStrategy:\"translation-master\"},set(e){this.$store.commit(\"updateDeepseekConfig\",{key:\"expertStrategy\",value:e})}},deepseekAiContext:{get(){return!(!this.$store.state.deepseekConfig||!this.$store.state.deepseekConfig.aiContext)&&this.$store.state.deepseekConfig.aiContext},set(e){this.$store.commit(\"updateDeepseekConfig\",{key:\"aiContext\",value:e})}},showAiExpertStrategy(){const e=this.transEngine;return\"openai\"===e?this.apiKeys&&this.apiKeys.openai&&\"\"!==this.apiKeys.openai.trim():\"deepseek\"===e&&(this.apiKeys&&this.apiKeys.deepseek&&\"\"!==this.apiKeys.deepseek.trim())},currentAiExpertStrategy(){return\"openai\"===this.transEngine&&this.openaiConfig?this.openaiConfig.expertStrategy||\"translation-master\":\"deepseek\"===this.transEngine&&this.deepseekConfig&&this.deepseekConfig.expertStrategy||\"translation-master\"}},methods:{...Object(o[\"b\"])([\"saveSettings\",\"toggleTranslation\"]),...Object(o[\"c\"])([\"setExcludedTags\",\"setExcludedClasses\",\"setCustomCss\",\"setApiKey\",\"updateOpenaiConfig\",\"updateDeepseekConfig\"]),handleKeyboardShortcut(e){console.log(\"键盘事件:\",{key:e.key,code:e.code,keyCode:e.keyCode,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey});const t=e.altKey&&(\"a\"===e.key||\"A\"===e.key)||\"å\"===e.key||\"Å\"===e.key||e.altKey&&65===e.keyCode;if(t){console.log(\"检测到快捷键 ⌥A (Option+A)\"),e.preventDefault(),this.toggleTranslation();const t=document.querySelector(\".translate-button button\");t&&(t.classList.add(\"active\"),setTimeout(()=>{t.classList.remove(\"active\")},150))}},$t(e){if(this.$i18n&&this.$i18n.t)return this.$i18n.t(e);if(window.i18n&&window.i18n.t)return window.i18n.t(e);if(this.i18n&&\"function\"===typeof this.i18n.t)return this.i18n.t(e);const t={\"zh-CN\":{source_language:\"翻译语言\",target_language:\"目标语言\",translation_service:\"翻译服务：\",display_type:\"显示类型：\",ui_language:\"界面语言：\",translation_toggle:\"翻译开关\",toggle_translation:\"开启/关闭翻译\",inline:\"双语(原文后方显示译文)\",general:\"导航提示(适合菜单和小元素)\",replace:\"替换(仅显示译文)\",bilingual_below:\"双语(原文下方显示译文)\",hover:\"悬浮(鼠标悬停显示译文)\",deepseek_api_key:\"DeepSeek API密钥\",enter_deepseek_api_key:\"请输入你的DeepSeek API密钥\",openai_api_key:\"OpenAI API密钥\",enter_openai_api_key:\"请输入你的OpenAI API密钥\",openai_model:\"OpenAI模型\",input_triple_space_tip:\"小技巧：在任意输入框中输入文本后，连续敲击三个空格可以立即翻译文本。按ESC键可取消翻译。\",input_space_translation_toggle:\"输入框空格翻译\",apiKeyRequired:\"需要设置API密钥才能使用此服务\",goToSettings:\"前往设置页面\",aiExpertStrategy:\"AI专家策略\",translationMaster:\"意译大师\",literalExpert:\"直译专家\",contextAnalyzer:\"语境分析师\",culturalAdapter:\"文化适配师\",enableAiContext:\"启用AI智能上下文\"},en:{source_language:\"Source Language\",target_language:\"Target Language\",translation_service:\"Translation Service:\",display_type:\"Display Type:\",ui_language:\"Interface Language:\",translation_toggle:\"Translation Toggle\",toggle_translation:\"Enable/Disable Translation\",inline:\"Bilingual (Translation after Original)\",general:\"Smart Tooltips (For Menus & Small Elements)\",replace:\"Replace (Translation Only)\",bilingual_below:\"Bilingual (Translation Below)\",hover:\"Hover (Show on Mouse Over)\",deepseek_api_key:\"DeepSeek API Key\",enter_deepseek_api_key:\"Enter your DeepSeek API Key\",openai_api_key:\"OpenAI API Key\",enter_openai_api_key:\"Enter your OpenAI API Key\",openai_model:\"OpenAI Model\",input_triple_space_tip:\"Tip: In any input field, after typing text, press space three times in a row to instantly translate the text. Press ESC to cancel translation.\",input_space_translation_toggle:\"Input Space Translation\",apiKeyRequired:\"API Key is required to use this service\",goToSettings:\"Go to Settings\",aiExpertStrategy:\"AI Expert Strategy\",translationMaster:\"Translation Master\",literalExpert:\"Literal Expert\",contextAnalyzer:\"Context Analyzer\",culturalAdapter:\"Cultural Adapter\",enableAiContext:\"Enable AI Context\"}},a=this.uiLanguage||\"zh-CN\";return t[a]&&t[a][e]?t[a][e]:e},translateCurrentPage(){chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.tabs.sendMessage(e[0].id,{action:\"translate\"})})},saveExcludedTags(){this.saveSettings()},saveExcludedClasses(){this.setExcludedClasses(this.excludedClassesStr.split(\",\").map(e=>e.trim()).filter(e=>e)),this.saveSettings()},saveCustomCss(){this.setCustomCss(this.customCss),this.saveSettings()},changeUiLanguage(e){console.log(\"切换界面语言为: \"+e),localStorage.setItem(\"transor-ui-language\",e);const t=()=>{try{console.log(\"直接保存界面语言到storage: \"+e),chrome.storage.local.set({\"transor-ui-language\":e},()=>{chrome.runtime.lastError?console.warn(\"直接设置语言失败:\",chrome.runtime.lastError):console.log(\"界面语言已直接保存到storage\")})}catch(t){console.error(\"直接设置语言异常:\",t.message)}try{console.log(\"通过background设置界面语言: \"+e),chrome.runtime.sendMessage({action:\"set-language\",language:e},e=>{chrome.runtime.lastError?console.warn(\"通过background设置语言失败:\",chrome.runtime.lastError):e&&e.success&&console.log(\"通过background成功设置语言\")})}catch(t){console.error(\"发送语言设置消息异常:\",t.message)}};t(),this.uiLanguage=e,this.loadLanguageResources(e),this.$emit(\"language-changed\",e)},loadLanguageResources(e){console.log(`正在加载${e}语言资源...`),this.$i18n&&\"string\"===typeof this.$i18n.locale&&(this.$i18n.locale=e),window.i18n&&\"function\"===typeof window.i18n.setLanguage&&window.i18n.setLanguage(e),this.$forceUpdate()},handleExpertStrategyChange(e){const t=this.transEngine;\"openai\"===t?this.updateOpenaiConfig({key:\"expertStrategy\",value:e}):\"deepseek\"===t&&this.updateDeepseekConfig({key:\"expertStrategy\",value:e}),this.saveSettings()},handleEngineChange(){const e=this.transEngine;if(this.showApiKeyNotice=!1,\"openai\"===e||\"deepseek\"===e){const t=this.apiKeys&&this.apiKeys[e];t&&\"\"!==t.trim()||(this.showApiKeyNotice=!0)}this.saveSettings()},openOptionsPage(){chrome&&chrome.runtime?chrome.runtime.openOptionsPage():window.open(chrome.runtime.getURL(\"options.html\"),\"_blank\")},saveOpenaiConfig(){this.saveSettings()},saveDeepseekConfig(){this.saveSettings()},toggleInputSpaceTranslation(){this.saveSettings()},loadServiceStates(){chrome.storage.sync.get(null,e=>{if(this.serviceStates.microsoftapi=!1!==e.microsoftapiEnabled,this.serviceStates.microsoft=!1!==e.microsoftEnabled,this.serviceStates.google=!1!==e.googleEnabled,this.serviceStates.openai=!1!==e.openaiEnabled,this.serviceStates.deepseek=!1!==e.deepseekEnabled,this.transEngine&&!this.serviceStates[this.transEngine]){const e=Object.keys(this.serviceStates).filter(e=>this.serviceStates[e]);e.length>0&&(this.transEngine=e[0],this.saveSettings())}})},loadAiExpertVisibility(){chrome.storage.sync.get([\"aiExpertVisibility\"],e=>{this.aiExpertVisibility=e.aiExpertVisibility||{}})},isExpertVisible(e){return void 0===this.aiExpertVisibility[e]||this.aiExpertVisibility[e]}},watch:{excludedClasses:{handler(e){this.excludedClassesStr=e.join(\", \")},immediate:!0},apiKeys:{handler(e){const t=this.transEngine;if((\"openai\"===t||\"deepseek\"===t)&&e){const a=e[t];this.showApiKeyNotice=!a||\"\"===a.trim()}},deep:!0}},created(){this.$store.dispatch(\"loadSettings\").then(()=>{const e=this.transEngine;\"openai\"!==e&&\"deepseek\"!==e||!this.$store.state.apiKeys||this.$store.state.apiKeys[e]&&\"\"!==this.$store.state.apiKeys[e].trim()||(this.showApiKeyNotice=!0)});const e=localStorage.getItem(\"transor-ui-language\");if(e&&(this.uiLanguage=e,this.loadLanguageResources(e)),window.i18n)this.i18n=window.i18n;else try{chrome&&chrome.i18n&&(this.i18n={t:e=>chrome.i18n.getMessage(e)||e})}catch(t){console.warn(\"无法加载chrome.i18n:\",t)}this.loadServiceStates(),this.loadAiExpertVisibility(),this.storageListener=(e,t)=>{if(\"sync\"===t){const t=[\"microsoftapiEnabled\",\"microsoftEnabled\",\"googleEnabled\",\"openaiEnabled\",\"deepseekEnabled\"],a=Object.keys(e).some(e=>t.includes(e));a&&this.loadServiceStates(),e.aiExpertVisibility&&this.loadAiExpertVisibility()}},chrome.storage.onChanged.addListener(this.storageListener)},mounted(){document.addEventListener(\"keydown\",this.handleKeyboardShortcut);try{chrome.runtime.sendMessage({action:\"registerShortcut\",shortcut:\"altA\"},e=>{console.log(\"注册全局快捷键响应:\",e)})}catch(e){console.error(\"注册全局快捷键失败:\",e)}try{chrome.runtime.onMessage.addListener(e=>(\"shortcutTriggered\"===e.action&&\"altA\"===e.shortcut&&(console.log(\"接收到后台快捷键触发消息\"),this.toggleTranslation()),!0))}catch(e){console.error(\"设置快捷键消息监听失败:\",e)}},beforeDestroy(){document.removeEventListener(\"keydown\",this.handleKeyboardShortcut),this.storageListener&&chrome.storage.onChanged.removeListener(this.storageListener)}},c=p,g=(a(\"34d5\"),a(\"2877\")),u=Object(g[\"a\"])(c,l,r,!1,null,\"66141f0b\",null),d=u.exports,h={name:\"App\",components:{TranslationSettings:d}},b=h,v=(a(\"2a41\"),Object(g[\"a\"])(b,i,n,!1,null,null,null)),m=v.exports;s[\"default\"].use(o[\"a\"]);var y=new o[\"a\"].Store({state:{isEnabled:!1,targetLanguage:\"zh-CN\",sourceLanguage:\"auto\",translationEngine:\"microsoft\",translationStyle:\"universal_style\",excludedTags:[\"code\",\"pre\",\"script\",\"style\"],excludedClasses:[\"no-translate\"],excludedUrls:[],customCss:\"\",openaiModel:\"gpt-4.1-mini\",enableInputSpaceTranslation:!0,apiKeys:{microsoftapi:\"\",microsoft:\"\",deepseek:\"\",openai:\"\"},openaiConfig:{model:\"gpt-4.1-mini\",customModelEnabled:!1,customModel:\"\",maxRequests:10,aiContext:!1,expertStrategy:\"translation-master\"},deepseekConfig:{model:\"deepseek-chat\",customModelEnabled:!1,customModel:\"\",maxRequests:10,aiContext:!1,expertStrategy:\"translation-master\"}},mutations:{setEnabled(e,t){e.isEnabled=t},setTargetLanguage(e,t){e.targetLanguage=t},setSourceLanguage(e,t){e.sourceLanguage=t},setTranslationEngine(e,t){e.translationEngine=t},setTranslationStyle(e,t){e.translationStyle=t},setExcludedTags(e,t){e.excludedTags=t},setExcludedClasses(e,t){e.excludedClasses=t},setExcludedUrls(e,t){e.excludedUrls=t},setCustomCss(e,t){e.customCss=t},setOpenaiModel(e,t){e.openaiModel=t},setEnableInputSpaceTranslation(e,t){e.enableInputSpaceTranslation=t},setApiKey(e,{type:t,key:a}){e.apiKeys||(e.apiKeys={}),e.apiKeys[t]=a},setApiKeys(e,t){e.apiKeys=t},setOpenaiConfig(e,t){e.openaiConfig=t},setDeepseekConfig(e,t){e.deepseekConfig=t},updateOpenaiConfig(e,{key:t,value:a}){e.openaiConfig&&(e.openaiConfig[t]=a)},updateDeepseekConfig(e,{key:t,value:a}){e.deepseekConfig&&(e.deepseekConfig[t]=a)}},actions:{loadSettings({commit:e}){return new Promise(t=>{chrome.storage.sync.get(null,a=>{void 0!==a.isEnabled&&e(\"setEnabled\",a.isEnabled),a.targetLanguage&&e(\"setTargetLanguage\",a.targetLanguage),a.sourceLanguage&&e(\"setSourceLanguage\",a.sourceLanguage),a.translationEngine&&e(\"setTranslationEngine\",a.translationEngine),a.translationStyle&&e(\"setTranslationStyle\",a.translationStyle),a.excludedTags&&e(\"setExcludedTags\",a.excludedTags),a.excludedClasses&&e(\"setExcludedClasses\",a.excludedClasses),a.excludedUrls&&e(\"setExcludedUrls\",a.excludedUrls),a.customCss&&e(\"setCustomCss\",a.customCss),a.openaiModel&&e(\"setOpenaiModel\",a.openaiModel),void 0!==a.enableInputSpaceTranslation&&e(\"setEnableInputSpaceTranslation\",a.enableInputSpaceTranslation),a.apiKeys&&e(\"setApiKeys\",a.apiKeys),a.openaiConfig&&e(\"setOpenaiConfig\",a.openaiConfig),a.deepseekConfig&&e(\"setDeepseekConfig\",a.deepseekConfig),!a.openaiConfig&&a.openaiModel&&e(\"updateOpenaiConfig\",{key:\"model\",value:a.openaiModel}),t()})})},saveSettings({state:e}){chrome.storage.sync.set({isEnabled:e.isEnabled,targetLanguage:e.targetLanguage,sourceLanguage:e.sourceLanguage,translationEngine:e.translationEngine,translationStyle:e.translationStyle,excludedTags:e.excludedTags,excludedClasses:e.excludedClasses,excludedUrls:e.excludedUrls,customCss:e.customCss,openaiModel:e.openaiModel,enableInputSpaceTranslation:e.enableInputSpaceTranslation,apiKeys:e.apiKeys,openaiConfig:e.openaiConfig,deepseekConfig:e.deepseekConfig}),chrome.tabs.query({active:!0,currentWindow:!0},t=>{t.length>0&&chrome.tabs.sendMessage(t[0].id,{action:\"updateSettings\",settings:e})}),e.apiKeys&&e.apiKeys.deepseek&&chrome.runtime.sendMessage({action:\"setApiKey\",type:\"deepseek\",key:e.apiKeys.deepseek}),e.apiKeys&&e.apiKeys.openai&&chrome.runtime.sendMessage({action:\"setApiKey\",type:\"openai\",key:e.apiKeys.openai})},toggleTranslation({commit:e,state:t,dispatch:a}){e(\"setEnabled\",!t.isEnabled),a(\"saveSettings\"),chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.tabs.sendMessage(e[0].id,{action:\"toggleTranslation\",isEnabled:t.isEnabled})})}}}),x=a(\"5c96\"),E=a.n(x);a(\"0fae\"),a(\"927c\");s[\"default\"].config.productionTip=!1,s[\"default\"].use(E.a),new s[\"default\"]({store:y,render:e=>e(m)}).$mount(\"#app\")},\"794a\":function(e,t,a){},\"927c\":function(e,t,a){},b0d4:function(e,t,a){}});","extractedComments":[]}